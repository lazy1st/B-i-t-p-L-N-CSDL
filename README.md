# CH∆Ø∆†NG TR√åNH QU·∫¢N L√ù KHO V√Ä B√ÅN C·ª¶A C·ª¨A H√ÄNG C√Ä PH√ä HI·ªÄN ANH
***
**T√°c Gi·∫£: Ho√†ng ƒê·ª©c Thu·∫ßn**

**MSSV: K215480106046**

**L·ªõp: K57KMT**

**Ng√†y Ho√†n Th√†nh: 19/6/2024**

M√¥ t·∫£ b√†i to√°n qu·∫£n l√Ω: C·ª≠a h√†ng Hi·ªÅn Anh l√† m·ªôt trong nh·ªØng c·ª≠a h√†ng b√°n h√†ng l·ªõn v√† uy t√≠n. ƒê·ªÉ qu·∫£n l√Ω c·ª≠a h√†ng l·ªõn nh∆∞ v·∫≠y c·∫ßn s·ª± qu·∫£n l√Ω th·∫≠t t·ªët ƒë·ªÉ ƒë·∫£m b·∫£o l·ª£i nhu·∫≠n v√† doanh thu. Gi√∫p t·ªëi ∆∞u ho√° c√¥ng vi·ªác, gi√∫p b√°o c√°o ch√≠nh x√°c v·ªÅ t√¨nh h√¨nh kinh doanh. B√†i t·∫≠p n√†y s·∫Ω s·ª≠ d·ª•ng ng√¥n ng·ªØ SQL ƒë·ªÉ qu·∫£n l√Ω kho nh·∫≠p - xu·∫•t s·∫£n ph·∫©m v√† vi·ªác b√°n h√†ng c·ªßa c·ªßa h√†ng.
### Nh·ªØng ch·ª©c nƒÉng x√¢y d·ª±ng ƒë·ªÉ qu·∫£n l√Ω kho v√† b√°n h√†ng:<p>
1.	Qu·∫£n l√Ω s·∫£n ph·∫©m<p>
  ‚Ä¢	Th√™m, s·ª≠a ƒë·ªïi, xo√° s·∫£n ph·∫©m<p>
  ‚Ä¢	T√¨m ki·∫øn, l·ªçc s·∫£n ph·∫©m theo c√°c ti√™u ch√≠ c·ªßa ng∆∞·ªùi d√πng<p>
  ‚Ä¢	Xem th√¥ng tin chi ti·∫øt t·ª´ng s·∫£n ph·∫©m<p>
  ‚Ä¢	Xem s·ªë l∆∞·ª£ng t·ªìn kho c·ªßa m·ªói s·∫£n ph·∫©m<p>
2.	Qu·∫£n l√Ω kho<p>
  ‚Ä¢	Khi b√°n s·∫£n ph·∫©m ho·∫∑c nh·∫≠p th√™m nguy√™n li·ªáu c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng h√†ng c√≤n l·∫°i trong kho.<p>
  ‚Ä¢	Xem s·ªë l∆∞·ª£ng v√† th·ªëng k√™ s·∫£n nguy√™n li·ªáu h√†ng t·ªìn kho<p>
Nh·∫≠p xu·∫•t v√† b√°o c√°o c√°c th√¥ng tin li√™n quan ƒë·∫øn kho v√† vi·ªác b√°n h√†ng<p>
1.	Nh·∫≠p h√†ng:<p>
  ‚Ä¢	Qu·∫£n l√Ω vi·ªác nh·∫≠p h√†ng t·ª´ nh√† cung c·∫•p v√†o kho h√†ng.<p>
  ‚Ä¢	Ghi nh·∫≠n th√¥ng tin v·ªÅ s·∫£n ph·∫©m, s·ªë l∆∞·ª£ng, gi√° c·∫£ v√† nh√† cung c·∫•p.<p>
  ‚Ä¢	C·∫≠p nh·∫≠t l·∫°i s·ªë h√†ng t·ªìn kho sau m·ªói l·∫ßn b√°n ho·∫∑c nh·∫≠p h√†ng v·ªÅ.<p>
  ‚Ä¢	Theo d√µi ƒë∆°n h√†ng t·ª´ nh√† cung c·∫•p v√† x√°c nh·∫≠n qu·∫£n l√Ω khi h√†ng ƒë√£ v√†o kho.<p>
2.	Xu·∫•t h√†ng:<p>
  ‚Ä¢	Qu·∫£n l√Ω vi·ªác xu·∫•t c√°c m·∫∑t h√†ng t·ª´ kho h√†ng ƒë·ªÉ b√°n cho kh√°ch h√†ng.<p>
  ‚Ä¢	Ghi nh·∫≠n th√¥ng tin v·ªÅ s·∫£n ph·∫©m, s·ªë l∆∞·ª£ng, gi√° c·∫£ v√† th√¥ng tin kh√°ch h√†ng.<p>
  ‚Ä¢	C·∫≠p nh·∫≠t t·ªìn kho sau m·ªói l·∫ßn xu·∫•t h√†ng.<p>
  ‚Ä¢	Theo d√µi ƒë∆°n h√†ng v√† x√°c nh·∫≠n khi ƒë√£ ƒë∆∞·ª£c giao.<p>
3.	B√°o c√°o<p>
  ‚Ä¢	B√°o c√°o v·ªÅ doanh thu theo ng√†y, doanh thu theo th√°ng,... gi√∫p qu·∫£n l√Ω ƒë∆∞·ª£c l·ª£i nhu·∫≠n.<p>
  ‚Ä¢	T·∫°o v√† xem b√°o c√°o ho·∫°t ƒë·ªông kinh doanh c·ªßa c·ª≠a h√†ng, s·ªë l∆∞·ª£ng h√†ng t·ªìn kho nhi·ªÅu nh·∫•t, s·ªë l∆∞·ª£ng h√†ng b√°n ch·∫°y nh·∫•t,....<p>
1.	S·∫£n ph·∫©m s·∫Ω qu·∫£n l√Ω nh·ªØng th√¥ng tin nh∆∞: üîëM√£ s·∫£n ph·∫©m, t√™n s·∫£n ph·∫©m, th√¥ng tin, gi√°, s·ªë l∆∞·ª£ng c√≤n l·∫°i, m√¥ t·∫£.<p>
2.	Kh√°ch h√†ng: üîëM√£ kh√°ch h√†ng, t√™n kh√°ch h√†ng, s·ªë ƒëi·ªán tho·∫°i, ƒë·ªãa ch·ªâ, lo·∫°i kh√°ch h√†ng.<p>
3.	ƒê∆°n h√†ng: üîëM√£ ƒë∆°n h√†ng, m√£ kh√°ch h√†ng, ng√†y b√°n h√†ng, t·ªïng ti·ªÅn, m√£ s·∫£n ph·∫©m, s·ªë l∆∞·ª£ng, gi√°, ghi ch√∫.<p>
4.	Nh√† cung c·∫•p: üîëM√£ nh√† cung c·∫•p, t√™n nh√† cung c·∫•p, s·ªë ƒëi·ªán tho·∫°i nh√† cung c·∫•p, t√™n ng∆∞·ªùi li√™n h·ªá, s·ªë ƒëi·ªán tho·∫°i ng∆∞·ªùi li√™n h·ªá, ƒë·ªãa ch·ªâ.<p>
5.	Danh m·ª•c: üîëM√£ danh m·ª•c, t√™n danh m·ª•c, ghi ch√∫.<p>
6.	Giao D·ªãch kho: üîëM√£ giao d·ªãch, m√£ s·∫£n ph·∫©m, s·ªë l∆∞·ª£ng, ng√†y nh·∫≠p kho, ng√†y xu·∫•t kho.<p>
Nh∆∞ v·∫≠y, d·ª±a theo nh·ªØng th√¥ng tin m√† ta ƒë√£ thu th·∫≠p ƒë∆∞·ª£c ch√∫ng ta s·∫Ω x√¢y d·ª±ng c√°c b·∫£ng ƒë√°p ·ª©ng y√™u c·∫ßu qu·∫£n l√Ω c·ªßa c·ªßa h√†ng.
---
## T·∫°o c√°c b·∫£ng nh∆∞ m√¥ t·∫£ trong SQL Sever:<p>
1.B·∫£ng S·∫£n Ph·∫©m<p>
![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/e5740186-0416-4e70-96da-0527f341431f)


Ch√∫ th√≠ch cho t·ª´ng gi√° tr·ªã trong b·∫£ng SanPham:<p>
    ‚Ä¢	MaSanPham: M√£ ƒë·ªãnh danh duy nh·∫•t cho m·ªói s·∫£n ph·∫©m, s·ª≠ d·ª•ng l√†m kh√≥a ch√≠nh ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh duy nh·∫•t.<p>
    ‚Ä¢	TenSanPham: T√™n c·ªßa s·∫£n ph·∫©m, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 255 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
    ‚Ä¢	ThongTin: C√°c th√¥ng tin chung v·ªÅ s·∫£n ph·∫©m, th∆∞·ªùng l√† m√¥ t·∫£ ng·∫Øn g·ªçn ho·∫∑c th√¥ng tin k·ªπ thu·∫≠t.<p>
    ‚Ä¢	Gia: Gi√° b√°n c·ªßa s·∫£n ph·∫©m, ƒë∆∞·ª£c ƒë·ªãnh d·∫°ng d∆∞·ªõi d·∫°ng s·ªë th·∫≠p ph√¢n v·ªõi t·ªëi ƒëa 10 ch·ªØ s·ªë trong ƒë√≥ c√≥ 2 ch·ªØ s·ªë sau d·∫•u th·∫≠p ph√¢n.<p>
    ‚Ä¢	SoLuongConLai: S·ªë l∆∞·ª£ng s·∫£n ph·∫©m c√≤n l·∫°i trong kho, l√† m·ªôt s·ªë nguy√™n v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
    ‚Ä¢	MoTa: M√¥ t·∫£ chi ti·∫øt h∆°n v·ªÅ s·∫£n ph·∫©m, c√≥ th·ªÉ bao g·ªìm c√°c th√¥ng tin nh∆∞ ƒë·∫∑c ƒëi·ªÉm, c√¥ng d·ª•ng, h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng, v.v.<p>
2.B·∫£ng Kh√°ch H√†ng<p>
	![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/98b27901-face-4708-a700-49fdb1b714c3)
 
Ch√∫ th√≠ch cho t·ª´ng gi√° tr·ªã trong b·∫£ng KhachHang:<p>
  ‚Ä¢	MaKhachHang: M√£ ƒë·ªãnh danh duy nh·∫•t cho m·ªói kh√°ch h√†ng, s·ª≠ d·ª•ng l√†m kh√≥a ch√≠nh ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh duy nh·∫•t.<p>
  ‚Ä¢	TenKhachHang: T√™n c·ªßa kh√°ch h√†ng, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 255 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
  ‚Ä¢	SoDienThoai: S·ªë ƒëi·ªán tho·∫°i c·ªßa kh√°ch h√†ng, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 15 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã. ƒê√¢y l√† th√¥ng tin li√™n l·∫°c quan tr·ªçng.<p>
  ‚Ä¢	DiaChi: ƒê·ªãa ch·ªâ c·ªßa kh√°ch h√†ng, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 255 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
  ‚Ä¢	LoaiKhachHang: Lo·∫°i kh√°ch h√†ng, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 50 k√Ω t·ª±, d√πng ƒë·ªÉ ph√¢n lo·∫°i kh√°ch h√†ng theo c√°c nh√≥m kh√°c nhau nh∆∞ kh√°ch h√†ng th∆∞·ªùng, kh√°ch h√†ng VIP, v.v. ƒê√¢y l√† m·ªôt tr∆∞·ªùng t√πy ch·ªçn, kh√¥ng b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
2.b·∫£ng ƒê∆°n h√†ng<p>
 ![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/d96a65e6-9bea-4884-88b8-887db3c5abe2)

Ch√∫ th√≠ch cho t·ª´ng gi√° tr·ªã trong b·∫£ng DonHang:<p>
    ‚Ä¢	MaDonHang: M√£ ƒë·ªãnh danh duy nh·∫•t cho m·ªói ƒë∆°n h√†ng, s·ª≠ d·ª•ng l√†m kh√≥a ch√≠nh ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh duy nh·∫•t.<p>
    ‚Ä¢	MaKhachHang: M√£ ƒë·ªãnh danh c·ªßa kh√°ch h√†ng, li√™n k·∫øt v·ªõi b·∫£ng KhachHang ƒë·ªÉ x√°c ƒë·ªãnh kh√°ch h√†ng ƒë√£ ƒë·∫∑t h√†ng. ƒê√¢y l√† m·ªôt kh√≥a ngo·∫°i.<p>
    ‚Ä¢	NgayBanHang: Ng√†y b√°n h√†ng, l√† m·ªôt gi√° tr·ªã ng√†y th√°ng ƒë·ªÉ x√°c ƒë·ªãnh ng√†y ƒë∆°n h√†ng ƒë∆∞·ª£c t·∫°o ra, b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
    ‚Ä¢	TongTien: T·ªïng s·ªë ti·ªÅn c·ªßa ƒë∆°n h√†ng, ƒë∆∞·ª£c ƒë·ªãnh d·∫°ng d∆∞·ªõi d·∫°ng s·ªë th·∫≠p ph√¢n v·ªõi t·ªëi ƒëa 10 ch·ªØ s·ªë, trong ƒë√≥ c√≥ 2 ch·ªØ s·ªë sau d·∫•u th·∫≠p ph√¢n.<p>
    ‚Ä¢	MaSanPham: M√£ ƒë·ªãnh danh c·ªßa s·∫£n ph·∫©m, li√™n k·∫øt v·ªõi b·∫£ng SanPham ƒë·ªÉ x√°c ƒë·ªãnh s·∫£n ph·∫©m trong ƒë∆°n h√†ng. ƒê√¢y l√† m·ªôt kh√≥a ngo·∫°i.<p>
    ‚Ä¢	SoLuong: S·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong ƒë∆°n h√†ng, l√† m·ªôt s·ªë nguy√™n v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
    ‚Ä¢	Gia: Gi√° c·ªßa s·∫£n ph·∫©m trong ƒë∆°n h√†ng, ƒë∆∞·ª£c ƒë·ªãnh d·∫°ng d∆∞·ªõi d·∫°ng s·ªë th·∫≠p ph√¢n v·ªõi t·ªëi ƒëa 10 ch·ªØ s·ªë, trong ƒë√≥ c√≥ 2 ch·ªØ s·ªë sau d·∫•u th·∫≠p ph√¢n.<p>
    ‚Ä¢	GhiChu: C√°c ghi ch√∫ b·ªï sung v·ªÅ ƒë∆°n h√†ng, c√≥ th·ªÉ ch·ª©a c√°c th√¥ng tin th√™m nh∆∞ y√™u c·∫ßu ƒë·∫∑c bi·ªát, ghi ch√∫ v·ªÅ giao h√†ng, v.v.<p>
    ‚Ä¢	C√°c kh√≥a ngo·∫°i: FOREIGN KEY (MaKhachHang) REFERENCES KhachHang(MaKhachHang) v√† FOREIGN KEY (MaSanPham) REFERENCES SanPham(MaSanPham) ƒë·∫£m b·∫£o r·∫±ng m√£ kh√°ch h√†ng v√† m√£ s·∫£n ph·∫©m trong ƒë∆°n h√†ng ph·∫£i t·ªìn t·∫°i trong b·∫£ng KhachHang v√† SanPham t∆∞∆°ng ·ª©ng.<p>
‚ÄÉ
4.Nh√† Cung C·∫•p<p>	
![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/ccf03f69-78d1-4883-bc11-fb4255e5d7c6)
	 
Ch√∫ th√≠ch cho t·ª´ng gi√° tr·ªã trong b·∫£ng NhaCungCap:<p>
  ‚Ä¢	MaNhaCungCap: M√£ ƒë·ªãnh danh duy nh·∫•t cho m·ªói nh√† cung c·∫•p, s·ª≠ d·ª•ng l√†m kh√≥a ch√≠nh ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh duy nh·∫•t.<p>
  ‚Ä¢	TenNhaCungCap: T√™n c·ªßa nh√† cung c·∫•p, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 255 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
  ‚Ä¢	SoDienThoaiNhaCungCap: S·ªë ƒëi·ªán tho·∫°i c·ªßa nh√† cung c·∫•p, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 15 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
  ‚Ä¢	TenNguoiLienHe: T√™n c·ªßa ng∆∞·ªùi li√™n h·ªá t·∫°i nh√† cung c·∫•p, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 255 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
  ‚Ä¢	SoDienThoaiNguoiLienHe: S·ªë ƒëi·ªán tho·∫°i c·ªßa ng∆∞·ªùi li√™n h·ªá t·∫°i nh√† cung c·∫•p, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 15 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
  ‚Ä¢	DiaChi: ƒê·ªãa ch·ªâ c·ªßa nh√† cung c·∫•p, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 255 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
5.b·∫£ng Danh M·ª•c s·∫£n ph·∫©m<p>
	 ![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/3c082c6b-1868-49de-865b-f2db32e81ff6)

Ch√∫ th√≠ch cho t·ª´ng gi√° tr·ªã trong b·∫£ng DanhMuc:<p>
  ‚Ä¢	MaDanhMuc: M√£ ƒë·ªãnh danh duy nh·∫•t cho m·ªói danh m·ª•c, s·ª≠ d·ª•ng l√†m kh√≥a ch√≠nh ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh duy nh·∫•t.<p>
  ‚Ä¢	TenDanhMuc: T√™n c·ªßa danh m·ª•c, l√† m·ªôt chu·ªói k√Ω t·ª± c√≥ ƒë·ªô d√†i t·ªëi ƒëa 255 k√Ω t·ª± v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
  ‚Ä¢	GhiChu: C√°c ghi ch√∫ b·ªï sung v·ªÅ danh m·ª•c, c√≥ th·ªÉ ch·ª©a c√°c th√¥ng tin th√™m nh∆∞ m√¥ t·∫£ chi ti·∫øt, m·ª•c ƒë√≠ch s·ª≠ d·ª•ng, v.v. ƒê√¢y l√† m·ªôt tr∆∞·ªùng t√πy ch·ªçn v√† c√≥ th·ªÉ ƒë·ªÉ tr·ªëng.<p> ‚ÄÉ
6.b·∫£ng giao d·ªãch kho :<p>
	 ![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/662476e3-d28d-4313-ba32-8a964cad7437)

Ch√∫ th√≠ch cho t·ª´ng gi√° tr·ªã trong b·∫£ng GiaoDichKho:<p>
  ‚Ä¢	MaGiaoDich: M√£ ƒë·ªãnh danh duy nh·∫•t cho m·ªói giao d·ªãch kho, s·ª≠ d·ª•ng l√†m kh√≥a ch√≠nh ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh duy nh·∫•t.<p>
  ‚Ä¢	MaSanPham: M√£ ƒë·ªãnh danh c·ªßa s·∫£n ph·∫©m, li√™n k·∫øt v·ªõi b·∫£ng SanPham ƒë·ªÉ x√°c ƒë·ªãnh s·∫£n ph·∫©m trong giao d·ªãch kho. ƒê√¢y l√† m·ªôt kh√≥a ngo·∫°i.<p>
  ‚Ä¢	SoLuong: S·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong giao d·ªãch kho, l√† m·ªôt s·ªë nguy√™n v√† b·∫Øt bu·ªôc ph·∫£i c√≥ gi√° tr·ªã.<p>
  ‚Ä¢	NgayNhapKho: Ng√†y s·∫£n ph·∫©m ƒë∆∞·ª£c nh·∫≠p v√†o kho, l√† m·ªôt gi√° tr·ªã ng√†y th√°ng. ƒê√¢y l√† tr∆∞·ªùng t√πy ch·ªçn v√† c√≥ th·ªÉ ƒë·ªÉ tr·ªëng n·∫øu giao d·ªãch ch·ªâ l√† xu·∫•t kho.<p>
  ‚Ä¢	NgayXuatKho: Ng√†y s·∫£n ph·∫©m ƒë∆∞·ª£c xu·∫•t kh·ªèi kho, l√† m·ªôt gi√° tr·ªã ng√†y th√°ng. ƒê√¢y l√† tr∆∞·ªùng t√πy ch·ªçn v√† c√≥ th·ªÉ ƒë·ªÉ tr·ªëng n·∫øu giao d·ªãch ch·ªâ l√† nh·∫≠p kho.<p>
  ‚Ä¢	Kh√≥a ngo·∫°i FOREIGN KEY (MaSanPham) REFERENCES SanPham(MaSanPham) ƒë·∫£m b·∫£o r·∫±ng m√£ s·∫£n ph·∫©m trong giao d·ªãch kho ph·∫£i t·ªìn t·∫°i trong b·∫£ng SanPham.<p>		
T·∫°o s∆° ƒë·ªì th·ª±c th·ªÉ li√™n k·∫øt gi·ªØa c√°c b·∫£ng :<p>
 ![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/2adaade6-72aa-4298-88f2-a553c0258e60)


Th√™m d·ªØ li·ªáu v√†o c√°c b·∫£ng<p>
1.	D·ªØ li·ªáu th√™m v√†o b·∫£ng SanPham<p>
-- Ch√®n d·ªØ li·ªáu v√†o b·∫£ng Danh m·ª•c s·∫£n ph·∫©m<p>
INSERT INTO DanhMucSanPham (MaDanhMuc, TenDanhMuc, GhiChu)<p>
VALUES<p>
    '('muc1', 'C√† Ph√™ ƒêen', ''),<p>
    ('muc2', 'C√† Ph√™ S·ªØa', ''),<p>
    ('muc3', 'C√† Ph√™ Phin', ''),<p>
    ('muc4', 'C√† Ph√™ Capuchino', ''),<p>
    ('muc5', 'C√† Ph√™ Tr·ª©ng', '');<p>
    
2.Ch√®n d·ªØ li·ªáu v√†o b·∫£ng S·∫£n ph·∫©m

INSERT INTO SanPham (MaSanPham, TenSanPham, Gia, MoTa, MaDanhMuc)<p>
VALUES<p>
    ('M01', 'C√† Ph√™ ƒêen',  15000,'C√† Ph√™ ƒêen', 'muc1'),<p>
    ('M02', 'C√† Ph√™ S·ªØa' , 20000, 'C√† Ph√™ S·ªØa', 'muc1'),<p>
    ('M03', 'C√† Ph√™ Phin' , 15000, 'C√† Ph√™ Phin' , 'muc2'),<p>
    ('M04', 'C√† Ph√™ Capuchino' , 20000,'C√† Ph√™ Capuchino' , 'muc3'),<p>
    ('M05', 'C√† Ph√™ Tr·ª©ng' , 25000,'C√† Ph√™ Tr·ª©ng' , 'muc4');<p>

3.Ch√®n d·ªØ li·ªáu v√†o b·∫£ng Kh√°ch h√†ng<p>

INSERT INTO KhachHang (MaKhachHang, TenKhachHang, SoDienThoai, DiaChi, LoaiKhachHang)<p>
VALUES<p>
    ('KH001', 'Nguyen Van A', '0912345678', '123 Le Loi, TP.HCM', 'VIPP'),<p>
    ('KH002', 'Tran Thi B', '0987654321', '456 Hai Ba Trung, Ha Noi', 'VIP'),<p>
    ('KH003', 'Le Van C', '0909123456', '789 Nguyen Trai, Da Nang', 'New'),<p>
    ('KH004', 'Pham Thi D', '0934567890', '321 Tran Hung Dao, Can Tho', 'VIPP'),<p>
    ('KH005', 'Hoang Van E', '0976543210', '654 Le Duan, Hue', 'VIP');<p>
    
4.Ch√®n d·ªØ li·ªáu v√†o b·∫£ng ƒê∆°n H√†ng<p>

INSERT INTO DonHang (MaDonHang, MaKhachHang, NgayBanHang, TongTien, MaSanPham, SoLuong, Gia, GhiChu)<p>
VALUES<p>
    ('DH001', 'KH001', '2024-06-19', 30000, 'M01', 2, 15000, 'U·ªëng l·∫°nh'),<p>
    ('DH002', 'KH002', '2024-06-20', 40000, 'M02', 2, 20000, 'U·ªëng n√≥ng'),<p>
    ('DH003', 'KH003', '2024-06-21', 30000, 'M03', 2, 15000, 'Kh√¥ng ƒë√°'),<p>
    ('DH004', 'KH004', '2024-06-22', 40000, 'M04', 2, 20000, 'Mang ƒëi'),<p>
    ('DH005', 'KH005', '2024-06-23', 50000, 'M05', 2, 25000, '');<p>

5.Ch√®n d·ªØ li·ªáu v√†o b·∫£ng Nha Cung C·∫•p<p>

INSERT INTO NhaCungCap (MaNhaCungCap, TenNhaCungCap, SoDienThoaiNhaCungCap, TenNguoiLienHe, SoDienThoaiNguoiLienHe, DiaChi)<p>
VALUES<p>
    ('NCC01', 'Nh√† Cung C·∫•p Ph√∫c Long', '0903456789', 'Nguy·ªÖn VƒÉn Long', '0912345678', '12 Tr·∫ßn H∆∞ng ƒê·∫°o, Ho√†n Ki·∫øm, H√† N·ªôi'),<p>
    ('NCC02', 'Nh√† Cung C·∫•p Trung Nguy√™n', '0909876543', 'Tr·∫ßn Th·ªã Trung', '0918765432', '34 L√Ω Th√°i T·ªï, Ho√†n Ki·∫øm, H√† N·ªôi'),<p>
    ('NCC03', 'Nh√† Cung C·∫•p Highland', '0901122334', 'L√™ VƒÉn Cao', '0911122334', '56 Hai B√† Tr∆∞ng, Ho√†n Ki·∫øm, H√† N·ªôi'),<p>
    ('NCC04', 'Nh√† Cung C·∫•p Starbucks', '0902233445', 'Ph·∫°m Th·ªã Hoa', '0912233445', '78 B√† Tri·ªáu, Hai B√† Tr∆∞ng, H√† N·ªôi'),<p>
    ('NCC05', 'Nh√† Cung C·∫•p Coffee House', '0903344556', 'Ho√†ng Minh', '0913344556', '90 ƒêinh Ti√™n Ho√†ng, Ho√†n Ki·∫øm, H√† N·ªôi');<p>

6.Ch√®n d·ªØ li·ªáu v√†o b·∫£ng giao d·ªãch Kho<p>
	INSERT INTO GiaoDichKho (MaGiaoDich, MaSanPham, SoLuong, NgayNhapKho, NgayXuatKho, MaNhaCungCap)<p>
VALUES<p>
    ('GD01', 'M01', 100, '2024-06-19', NULL, 'NCC01'),<p>
    ('GD02', 'M02', 150, '2024-06-18', NULL, 'NCC02'),<p>
    ('GD03', 'M03', 120, '2024-06-17', NULL, 'NCC03'),<p>
    ('GD04', 'M04', 80, '2024-06-16', NULL, 'NCC04'),<p>
    ('GD05', 'M05', 200, '2024-06-15', NULL, 'NCC05');<p>
7.Ki·ªÉm tra d·ªØ li·ªáu trong c√°c b·∫£ng ƒë√£ t·∫°o<p>
  SELECT * FROM DanhMucSanPham;<p>
![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/b94f0c9b-ba04-4a38-987a-e42d530b1f09)

 SELECT * FROM SanPham;<p>
 ![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/3fbdfabf-916f-44cf-a992-ee3a3144c3ba)

 SELECT * FROM KhachHang;<p>
 ![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/3fec97b7-cea5-4b36-8364-cf10fab06a95)

 SELECT * FROM DonHang;<p>
 ![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/98f2b2dd-d457-4e05-9ca4-d3c90f50ed5c)

 SELECT * FROM NhaCungCap;<p>
 ![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/27b9f70c-5a22-4326-b253-53e333318d9f)

 SELECT * FROM GiaoDichKho;<p>
![image](https://github.com/lazy1st/B-i-t-p-L-N-CSDL/assets/166302644/a56af0ac-3319-45c5-b408-a42f0db97d76)
 
X√ÇY D·ª∞NG C√ÅC TH·ª¶ T·ª§C THEO C√ÅC CH·ª®C NƒÇNG MONG MU·ªêN
Y√™u c·∫ßu<p>
1.	Qu·∫£n l√Ω vi·ªác b√°n h√†ng<p>
  ‚Ä¢	Th√™m, s·ª≠a, xo√° s·∫£n ph·∫©m<p>
  ‚Ä¢	T√¨m ki·∫øm s·∫£n ph·∫©m, l·ªçc s·∫£n ph·∫©m theo c√°c ti√™u ch√≠ c·ªßa ng∆∞·ªùi qu·∫£n l√Ω ho·∫∑c c·ªßa kh√°ch h√†ng<p>
  ‚Ä¢	Xem th√¥ng tin ch·ªâ ti·∫øt m·ªói s·∫£n ph·∫©m<p>
  ‚Ä¢	Doanh thu c·ªßa m·ªôt ng√†y, m·ªôt th√°ng,...<p>
  ‚Ä¢	S·ªë l∆∞·ª£ng s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t.<p>
2.	Qu·∫£n l√Ω kho<p>
  ‚Ä¢	Th·ªëng k√™ s·ªë l∆∞·ª£ng h√†ng trong kho<p>
  ‚Ä¢	B√°o c√°o t√¨nh tr·∫°ng h√†ng trong kho, s·ªë h√†ng t·ªìn, s·ªë h√†ng ƒë√£ h·∫øt ch∆∞a nh·∫≠p v·ªÅ.<p>
X√¢y d·ª±ng<p>
 
<code> -- th√™m s·∫£n ph·∫©m
CREATE PROCEDURE themsanpham
    @MaSanPham NVARCHAR(255),
	@TenSanPham NVARCHAR(250),
    @Gia DECIMAL(10, 2),
    @MoTa NVARCHAR(50),
	@MaDanhMuc NVARCHAR(50)
 AS
BEGIN
    SET NOCOUNT ON;

 -- Ki·ªÉm tra xem s·∫£n ph·∫©m c√≥ t·ªìn t·∫°i hay kh√¥ng tr∆∞·ªõc khi ch√®n
    IF NOT EXISTS (SELECT 1 FROM SanPham WHERE TenSanPham = @TenSanPham)
    BEGIN
        INSERT INTO SanPham (MaSanPham,TenSanPham, Gia ,MoTa, MaDanhMuc )
        VALUES (@MaSanPham,@TenSanPham ,@Gia ,@MoTa,@MaDanhMuc);
        SELECT 'Th√™m s·∫£n ph·∫©m th√†nh c√¥ng' AS [Result];
    END
    ELSE
    BEGIN
        SELECT 'T√™n s·∫£n ph·∫©m ƒë√£ t·ªìn t·∫°i. Kh√¥ng th·ªÉ th√™m s·∫£n ph·∫©m.' AS [Result];
    END
END;
GO

--th√™m s·∫£n ph·∫©m <p>
EXEC themsanpham
    @MaSanPham = 'M06',
    @TenSanPham = N'C√† Ph√™ S·ªØa ƒê√°',
    @Gia = 35000,
    @MoTa = N'C√† ph√™ s·ªØa ƒë√° th∆°m ngon',
    @MaDanhMuc = 'muc4';


CREATE PROCEDURE XoaSanPham
    @MaSanPham NVARCHAR(50)
AS
BEGIN
    SET NOCOUNT ON;

-- Ki·ªÉm tra s·∫£n ph·∫©m c√≥ t·ªìn t·∫°i trong b·∫£ng SanPham kh√¥ng
    IF EXISTS (SELECT 1 FROM SanPham WHERE MaSanPham = @MaSanPham)
    BEGIN
  -- X√≥a c√°c b·∫£n ghi li√™n quan trong b·∫£ng DonHang tr∆∞·ªõc (n·∫øu c·∫ßn)
        DELETE FROM DonHang WHERE MaSanPham = @MaSanPham;

     -- X√≥a c√°c b·∫£n ghi li√™n quan trong b·∫£ng GiaoDichKho tr∆∞·ªõc (n·∫øu c·∫ßn)
        DELETE FROM GiaoDichKho WHERE MaSanPham = @MaSanPham;

    -- X√≥a s·∫£n ph·∫©m kh·ªèi b·∫£ng SanPham
        DELETE FROM SanPham WHERE MaSanPham = @MaSanPham;

        SELECT 'X√≥a s·∫£n ph·∫©m th√†nh c√¥ng' AS [Result];
    END
    ELSE
    BEGIN
        SELECT 'S·∫£n ph·∫©m kh√¥ng t·ªìn t·∫°i. Kh√¥ng th·ªÉ x√≥a s·∫£n ph·∫©m.' AS [Result];
    END
END;
GO

EXEC XoaSanPham @MaSanPham = 'M01';<p>
 
CREATE PROCEDURE CapNhatSanPham
    @MaSanPham NVARCHAR(50),
    @TenSanPham NVARCHAR(255) = NULL,
    @Gia DECIMAL(10, 2) = NULL,
    @MoTa NVARCHAR(50) = NULL,
    @MaDanhMuc NVARCHAR(50) = NULL
AS
BEGIN
    SET NOCOUNT ON;

-- Ki·ªÉm tra s·∫£n ph·∫©m c√≥ t·ªìn t·∫°i trong b·∫£ng SanPham kh√¥ng
    IF EXISTS (SELECT 1 FROM SanPham WHERE MaSanPham = @MaSanPham)
    BEGIN
    -- C·∫≠p nh·∫≠t th√¥ng tin s·∫£n ph·∫©m
        UPDATE SanPham
        SET 
            TenSanPham = ISNULL(@TenSanPham, TenSanPham),
            Gia = ISNULL(@Gia, Gia),
            MoTa = ISNULL(@MoTa, MoTa),
            MaDanhMuc = ISNULL(@MaDanhMuc, MaDanhMuc)
        WHERE MaSanPham = @MaSanPham;

        SELECT 'C·∫≠p nh·∫≠t s·∫£n ph·∫©m th√†nh c√¥ng' AS [Result];
    END
    ELSE
    BEGIN
        SELECT 'S·∫£n ph·∫©m kh√¥ng t·ªìn t·∫°i. Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t s·∫£n ph·∫©m.' AS [Result];
    END
END;
GO<p>

EXEC CapNhatSanPham 
    @MaSanPham = 'M01',
    @TenSanPham = N'C√† Ph√™ ƒêen ƒê√°',
    @Gia = 16000,
    @MoTa = N'C√† Ph√™ ƒêen ƒê√°',
    @MaDanhMuc = 'muc1';
-- t√¨m ki·∫øm s·∫£n ph·∫©m 
 
CREATE PROCEDURE TimKiemSanPham
    @MaSanPham NVARCHAR(50) = NULL,
    @TenSanPham NVARCHAR(255) = NULL,
    @MaDanhMuc NVARCHAR(50) = NULL
AS
BEGIN
    SET NOCOUNT ON;

    SELECT MaSanPham, TenSanPham, Gia, MoTa, MaDanhMuc
    FROM SanPham
    WHERE 
        (@MaSanPham IS NULL OR MaSanPham = @MaSanPham) AND
        (@TenSanPham IS NULL OR TenSanPham LIKE '%' + @TenSanPham + '%') AND
        (@MaDanhMuc IS NULL OR MaDanhMuc = @MaDanhMuc);
END;
GO<p>
EXEC TimKiemSanPham @MaSanPham = 'M01';
 
 --T√≠nh t·ªïng doanh thu c·ªßa ng√†y ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh
USE BTLSQL;
GO

CREATE PROCEDURE TinhDoanhThuNgay
    @NgayBanHang DATE
AS
BEGIN
    SET NOCOUNT ON;

-- H√†m T√≠nh t·ªïng doanh thu c·ªßa ng√†y ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh
    SELECT SUM(TongTien) AS DoanhThu
    FROM DonHang
    WHERE NgayBanHang = @NgayBanHang;
END;
GO 
EXEC TinhDoanhThuNgay @NgayBanHang = '2024-06-21'; 
 
-- S·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t th√°ng

CREATE PROCEDURE SanPhamBanChayNhatoTrongThang
    @Thang INT,
    @Nam INT
AS
BEGIN
    SET NOCOUNT ON; -- T·∫Øt th√¥ng b√°o s·ªë b·∫£n ghi b·ªã ·∫£nh h∆∞·ªüng

 -- Khai b√°o bi·∫øn ƒë·ªÉ l∆∞u ng√†y b·∫Øt ƒë·∫ßu v√† ng√†y k·∫øt th√∫c c·ªßa th√°ng c·∫ßn th·ªëng k√™
    DECLARE @StartDate DATE, @EndDate DATE;
    SET @StartDate = DATEFROMPARTS(@Nam, @Thang, 1); -- Ng√†y ƒë·∫ßu ti√™n c·ªßa th√°ng
    SET @EndDate = DATEADD(DAY, -1, DATEADD(MONTH, 1, @StartDate)); -- Ng√†y cu·ªëi c√πng c·ªßa th√°ng

 -- S·ª≠ d·ª•ng CTE ƒë·ªÉ t√≠nh t·ªïng s·ªë l∆∞·ª£ng s·∫£n ph·∫©m b√°n ra v√† l·∫•y s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t
    WITH BanChayNhat AS (
        SELECT TOP 1
            DH.MaSanPham,
            SUM(DH.SoLuong) AS TongSoLuongBan 
        FROM DonHang DH
        WHERE DH.NgayBanHang >= @StartDate AND DH.NgayBanHang <= @EndDate -- ƒêi·ªÅu ki·ªán: ƒê∆°n h√†ng trong th√°ng
        GROUP BY DH.MaSanPham 
        ORDER BY SUM(DH.SoLuong) DESC -- S·∫Øp x·∫øp gi·∫£m d·∫ßn theo t·ªïng s·ªë l∆∞·ª£ng b√°n
    )
-- Truy v·∫•n ƒë·ªÉ l·∫•y th√¥ng tin chi ti·∫øt c·ªßa s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t
    SELECT 
        BC.MaSanPham, 
        SP.TenSanPham, 
        SP.Gia, 
        SP.MoTa,
        BC.TongSoLuongBan 
    FROM BanChayNhat BC
    INNER JOIN SanPham SP ON BC.MaSanPham = SP.MaSanPham;-- Li√™n k·∫øt v·ªõi b·∫£ng SanPham ƒë·ªÉ l·∫•y th√¥ng tin chi ti·∫øt
END;
GO 
 
- T·∫°o stored procedure ThongKeSoLuongHangTrongKho
CREATE PROCEDURE ThongKeSoLuongHangTrongKho
AS
BEGIN
    SET NOCOUNT ON;

    SELECT 
        SP.MaSanPham,
        SP.TenSanPham,
        ISNULL(SUM(GDK.SoLuong), 0) AS TongSoLuongTon
    FROM 
        SanPham SP
    LEFT JOIN 
        GiaoDichKho GDK ON SP.MaSanPham = GDK.MaSanPham
    GROUP BY 
        SP.MaSanPham, SP.TenSanPham
    ORDER BY 
        SP.TenSanPham;
END;
GO

-- T·∫°o trigger ƒë·ªÉ c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng t·ªìn kho khi c√≥ thay ƒë·ªïi trong b·∫£ng GiaoDichKho
CREATE TRIGGER trg_UpdateInventory
ON GiaoDichKho
AFTER INSERT, UPDATE, DELETE
AS
BEGIN
    SET NOCOUNT ON;

    DECLARE @MaSanPham INT;

-- Con tr·ªè ƒë·ªÉ x·ª≠ l√Ω c√°c b·∫£n ghi b·ªã ·∫£nh h∆∞·ªüng
    DECLARE cur CURSOR FOR
    SELECT DISTINCT MaSanPham FROM (
        SELECT MaSanPham FROM inserted
        UNION
        SELECT MaSanPham FROM deleted
    ) AS affected;

    OPEN cur;

    FETCH NEXT FROM cur INTO @MaSanPham;

    WHILE @@FETCH_STATUS = 0
    BEGIN
    -- C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng t·ªìn kho cho s·∫£n ph·∫©m hi·ªán t·∫°i
        UPDATE SanPham
        SET TongSoLuongTon = 
            (SELECT ISNULL(SUM(GDK.SoLuong), 0)
             FROM GiaoDichKho GDK
             WHERE GDK.MaSanPham = @MaSanPham)
        WHERE MaSanPham = @MaSanPham;

        FETCH NEXT FROM cur INTO @MaSanPham;
    END;

    CLOSE cur;
    DEALLOCATE cur;
END;
 
